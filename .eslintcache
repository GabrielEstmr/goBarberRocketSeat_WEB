[{"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\index.tsx":"1","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\App.tsx":"2","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\styles\\global.ts":"3","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\reportWebVitals.ts":"4","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\pages\\SignIn\\index.tsx":"5","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\pages\\SignIn\\styles.ts":"6","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\Input\\index.tsx":"7","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\Button\\index.tsx":"8","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\Input\\styles.ts":"9","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\Button\\styles.ts":"10","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\pages\\SignUp\\index.tsx":"11","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\pages\\SignUp\\styles.ts":"12","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\utils\\getValidationErrors.ts":"13","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\Tooltip\\index.tsx":"14","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\Tooltip\\styles.ts":"15","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\services\\api.ts":"16","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\routes\\index.tsx":"17","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\pages\\Dashboard\\index.tsx":"18","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\context\\auth.tsx":"19","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\context\\index.tsx":"20","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\context\\toast.tsx":"21","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\ToastContainer\\index.tsx":"22","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\ToastContainer\\styles.ts":"23","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\routes\\Route.tsx":"24"},{"size":478,"mtime":1611051752791,"results":"25","hashOfConfig":"26"},{"size":1113,"mtime":1611235108648,"results":"27","hashOfConfig":"26"},{"size":531,"mtime":1611051580132,"results":"28","hashOfConfig":"26"},{"size":425,"mtime":1611050513025,"results":"29","hashOfConfig":"26"},{"size":3376,"mtime":1611315089954,"results":"30","hashOfConfig":"26"},{"size":1538,"mtime":1611062647971,"results":"31","hashOfConfig":"26"},{"size":2781,"mtime":1611143915426,"results":"32","hashOfConfig":"26"},{"size":502,"mtime":1611060917016,"results":"33","hashOfConfig":"26"},{"size":1295,"mtime":1611144722050,"results":"34","hashOfConfig":"26"},{"size":384,"mtime":1611059226391,"results":"35","hashOfConfig":"26"},{"size":3808,"mtime":1611314433050,"results":"36","hashOfConfig":"26"},{"size":1538,"mtime":1611067403333,"results":"37","hashOfConfig":"26"},{"size":463,"mtime":1611143257151,"results":"38","hashOfConfig":"26"},{"size":424,"mtime":1611144681981,"results":"39","hashOfConfig":"26"},{"size":771,"mtime":1611144223846,"results":"40","hashOfConfig":"26"},{"size":121,"mtime":1611168346700,"results":"41","hashOfConfig":"26"},{"size":818,"mtime":1611278647665,"results":"42","hashOfConfig":"26"},{"size":116,"mtime":1611225145493,"results":"43","hashOfConfig":"26"},{"size":4451,"mtime":1611278978207,"results":"44","hashOfConfig":"26"},{"size":483,"mtime":1611234246745,"results":"45","hashOfConfig":"26"},{"size":1833,"mtime":1611273957505,"results":"46","hashOfConfig":"26"},{"size":1282,"mtime":1611274064527,"results":"47","hashOfConfig":"26"},{"size":1330,"mtime":1611229877638,"results":"48","hashOfConfig":"26"},{"size":1993,"mtime":1611278768523,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"1cf1m3e",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"52"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"52"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\index.tsx",[],["102","103"],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\App.tsx",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\styles\\global.ts",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\reportWebVitals.ts",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\pages\\SignIn\\index.tsx",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\pages\\SignIn\\styles.ts",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\Input\\index.tsx",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\Button\\index.tsx",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\Input\\styles.ts",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\Button\\styles.ts",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\pages\\SignUp\\index.tsx",["104"],"import React, { useCallback, useRef } from 'react';\r\nimport { FiArrowLeft, FiMail, FiUser, FiLock } from 'react-icons/fi';\r\nimport { FormHandles } from '@unform/core';\r\nimport { Form } from '@unform/web';\r\nimport * as Yup from 'yup';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport Input from '../../components/Input/index';\r\nimport Button from '../../components/Button/index';\r\nimport getValidationErrors from '../../utils/getValidationErrors';\r\nimport { useToast } from '../../context/toast';\r\nimport logoImg from '../../assets/logo.svg';\r\n\r\nimport { Container, Content, Background } from './styles';\r\n\r\nimport api from '../../services/api';\r\n\r\n\r\n\r\n// import { useAuth } from '../../context/AuthContext';\r\n\r\n\r\ninterface SignUpFormData {\r\n    name: string;\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\n\r\n\r\nconst SignUp: React.FC = () => {\r\n\r\n    const formRef = useRef<FormHandles>(null);//do tipo FormHandles > para dar tipagem\r\n    console.log(formRef);\r\n    const { addToast } = useToast();\r\n    const history = useHistory();\r\n\r\n    // const { signIn } = useAuth();\r\n\r\n    const handlerSubmit = useCallback(async (data: SignUpFormData) => {\r\n        try {\r\n\r\n            formRef.current?.setErrors({});\r\n\r\n            const schema = Yup.object().shape({\r\n                name: Yup.string().required('Nome obrigatório'),\r\n                email: Yup.string()\r\n                    .email('Digite um e-mail válido')\r\n                    .required('E-mail obrigatório'),\r\n                password: Yup.string().min(6, 'No mínimo 6 dígitos'),\r\n            });\r\n\r\n            await schema.validate(data, {\r\n                abortEarly: false,\r\n            });\r\n\r\n            addToast({\r\n                type: 'success',\r\n                title: 'Cadastro realizado com sucesso',\r\n                description: 'Voce já pode fazer seu logon no GoBarber',\r\n            });\r\n            history.push('/');\r\n\r\n            await api.post('/users', data)\r\n\r\n\r\n            // //Chamando Validação\r\n            // signIn({\r\n            //     email: 'aushauhsa@email.com',\r\n            //     password: 'auuauauauauaua'\r\n            // });\r\n\r\n\r\n\r\n\r\n\r\n        } catch (err) {\r\n            // //console.log(err);\r\n\r\n            // // const errors = getValidationErrors(err);\r\n\r\n            // // formRef.current?.setErrors(errors);\r\n\r\n            // if (err instanceof Yup.ValidationError) {\r\n            //     const errors = getValidationErrors(err);\r\n\r\n            //     formRef.current?.setErrors(errors);\r\n            // }\r\n\r\n            if (err instanceof Yup.ValidationError) {\r\n                const errors = getValidationErrors(err);\r\n\r\n                formRef.current?.setErrors(errors);\r\n            }\r\n\r\n            //Disparar toast\r\n            console.log('passou')\r\n            addToast({\r\n                type: 'error',\r\n                title: 'Erro no cadastro',\r\n                description: 'Erro ao fazer cadastro.'\r\n            });\r\n        }\r\n    }, [addToast, useHistory]);\r\n\r\n\r\n\r\n    return (\r\n        <Container>\r\n            <Background />\r\n\r\n\r\n            <Content>\r\n                <img src={logoImg} alt=\"GoBarber\" />\r\n\r\n                <Form ref={formRef} onSubmit={handlerSubmit}>\r\n                    <h1>Faça seu cadastro</h1>\r\n\r\n                    <Input name=\"name\" icon={FiUser} type=\"text\" placeholder=\"Nome\"></Input>\r\n                    <Input name=\"email\" icon={FiMail} placeholder=\"E-mail\"></Input>\r\n                    <Input name=\"password\" icon={FiLock} type=\"password\" placeholder=\"Senha\"></Input>\r\n                    <Button type=\"submit\">Cadastrar</Button>\r\n\r\n\r\n                </Form>\r\n\r\n                <Link to=\"/\"><FiArrowLeft />Voltar paga logon</Link>\r\n            </Content>\r\n\r\n\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default SignUp;","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\pages\\SignUp\\styles.ts",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\utils\\getValidationErrors.ts",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\Tooltip\\index.tsx",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\Tooltip\\styles.ts",[],["105","106"],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\services\\api.ts",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\routes\\index.tsx",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\pages\\Dashboard\\index.tsx",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\context\\auth.tsx",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\context\\index.tsx",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\context\\toast.tsx",["107"],"import React, { createContext, useContext, useCallback, useState } from 'react';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nimport ToastContainer from '../components/ToastContainer/index';\r\n\r\nexport interface ToastMessage {\r\n    id: string;\r\n    type?: 'success' | 'error' | 'info';\r\n    title: string;\r\n    description?: string;\r\n}\r\n\r\ninterface ToastContextData {\r\n    addToast(message: Omit<ToastMessage, 'id'>): void;\r\n    removeToast(id: string): void;\r\n}\r\n\r\n\r\nconst ToastContext = createContext<ToastContextData>({} as ToastContextData);\r\n\r\n\r\nconst ToastProvider: React.FC = ({ children }) => {\r\n\r\n    const [messages, setMessages] = useState<ToastMessage[]>([]);\r\n    const [] = useState();\r\n\r\n    //message:Omit<ToastMessage,'id'> > type = todos os de ToastMessage menos id\r\n    const addToast = useCallback(({ type, title, description }: Omit<ToastMessage, 'id'>) => {\r\n        const id = uuid();\r\n        const toast = {\r\n            id,\r\n            type,\r\n            title,\r\n            description\r\n        };\r\n        // setMessages([...messages, toast]);//quer apenas incluir > nao quer perder os toasts que já tem\r\n        setMessages(state => [...state, toast]);\r\n    }, []);\r\n\r\n    const removeToast = useCallback((id: string) => {\r\n        setMessages(state => state.filter(message => { return message.id !== id }))\r\n    }, []);\r\n\r\n    return (\r\n        <ToastContext.Provider value={{ addToast, removeToast }}>\r\n            {children}\r\n            <ToastContainer messages={messages} ></ToastContainer>\r\n        </ToastContext.Provider>\r\n    );\r\n}\r\n\r\n\r\nfunction useToast(): ToastContextData {\r\n    const context = useContext(ToastContext);\r\n\r\n    if (!context) {\r\n        throw new Error(\"useToast must be used within a ToastProvider\");\r\n    };\r\n\r\n    return context;\r\n}\r\n\r\n\r\n\r\n\r\nexport { ToastProvider, useToast, };","C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\ToastContainer\\index.tsx",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\components\\ToastContainer\\styles.ts",[],"C:\\Users\\GabrielRodrigues\\Desktop\\BAYER\\RocketSeat\\07-gobarber-web\\src\\routes\\Route.tsx",[],{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","severity":1,"message":"113","line":104,"column":8,"nodeType":"114","endLine":104,"endColumn":30,"suggestions":"115"},{"ruleId":"108","replacedBy":"116"},{"ruleId":"110","replacedBy":"117"},{"ruleId":"118","severity":1,"message":"119","line":25,"column":11,"nodeType":"120","messageId":"121","endLine":25,"endColumn":13},"no-native-reassign",["122"],"no-negated-in-lhs",["123"],"react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'history'. Either include it or remove the dependency array. Outer scope values like 'useHistory' aren't valid dependencies because mutating them doesn't re-render the component.","ArrayExpression",["124"],["122"],["123"],"no-empty-pattern","Unexpected empty array pattern.","ArrayPattern","unexpected","no-global-assign","no-unsafe-negation",{"desc":"125","fix":"126"},"Update the dependencies array to be: [addToast, history]",{"range":"127","text":"128"},[2977,2999],"[addToast, history]"]